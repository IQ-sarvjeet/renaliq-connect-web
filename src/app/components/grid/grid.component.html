<div class="table-responsive">
  <table
    id="data-table"
    class="table text-nowrap m-0 table-bordered table-striped"
  >
    <thead class="table-head" *ngIf="list.length > 0 && !showLoading">
      <tr class="text-secondary bg-gray-200">
        <th class="bg-transparent border-bottom-0fs-12">
          MEMBER ID<a href="javascript: void(0);"
            (click)="applySort('EnrollmentNo')"
            class="ms-1 text-secondary op-0-5"
            ><i class="fa fa"
              [ngClass]="renderArrowIcon('EnrollmentNo')"></i
          ></a>
        </th>
        <th class="bg-transparent border-bottom-0 wp-25 fs-12">
          PATIENT
          <a href="javascript: void(0);"
            class="ms-1 text-secondary op-0-5"
            (click)="applySortPatient('patientname')"
            ><i class="fa fa"
              [ngClass]="this.filterModel.patientFilter.SortBy === 'patientname' && this.filterModel.patientFilter.SortDirection === 'patientname_desc' ? 'fa-caret-down': 'fa-caret-up'"></i
          ></a>
        </th>

        <th class="bg-transparent border-bottom-0 fs-12">
          DOB (AGE)
          <a href="javascript: void(0);"
            (click)="applySort('BirthDate')"
            class="ms-1 text-secondary op-0-5"
            ><i class="fa fa"
              [ngClass]="renderArrowIcon('BirthDate')"></i
          ></a>
        </th>
        <th class="bg-transparent border-bottom-0 fs-12">
          STAGE<a href="javascript: void(0);"
          (click)="applySort('Stage')"
          class="ms-1 text-secondary op-0-5"
          ><i class="fa fa"
            [ngClass]="renderArrowIcon('Stage')"></i
        ></a>
        </th>
        <th class="bg-transparent border-bottom-0 fs-12">
          RISK CATEGORY<a href="javascript: void(0);"
          (click)="applySort('RiskCategory')"
          class="ms-1 text-secondary op-0-5"
          ><i class="fa fa"
            [ngClass]="renderArrowIcon('RiskCategory')"></i
        ></a>
        </th>
        <th class="bg-transparent border-bottom-0 fs-12">
          CARE MEMBER<a href="javascript: void(0);"
          (click)="applySort('PrimaryCareMember')"
          class="ms-1 text-secondary op-0-5"
          ><i class="fa fa"
            [ngClass]="renderArrowIcon('PrimaryCareMember')"></i
        ></a>
        </th>
        <th class="bg-transparent border-bottom-0 fs-12">
          STATUS<a href="javascript: void(0);"
          (click)="applySort('Status')"
          class="ms-1 text-secondary op-0-5"
          ><i class="fa fa"
            [ngClass]="renderArrowIcon('Status')"></i
        ></a>
        </th>
        <th class="bg-transparent border-bottom-0 fs-12">
          LAST ASSESSMENT<a href="javascript: void(0);"
          (click)="applySort('AssessmentDate')"
          class="ms-1 text-secondary op-0-5"
          ><i class="fa fa"
            [ngClass]="renderArrowIcon('AssessmentDate')"></i
        ></a>
        </th>
        <th class="bg-transparent border-bottom-0 fs-12">
          LAST DISCHARGE<a href="javascript: void(0);"
          (click)="applySort('DischargeDate')"
          class="ms-1 text-secondary op-0-5"
          ><i class="fa fa"
            [ngClass]="renderArrowIcon('DischargeDate')"></i
        ></a>
        </th>
        <th class="bg-transparent border-bottom-0 no-btn fs-12 wp-3"></th>
      </tr>
    </thead>
    <tbody *ngIf="showLoading" class="table-body">
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
      <tr>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
        <td><span class="skeleton-loader my-1"></span></td>
      </tr>
    </tbody>
    <tbody *ngIf="!showLoading" class="table-body">
      <tr *ngFor="let item of list">
        <td>
          <div class="d-flex align-items-center">
            <!-- <span
              class="data-image avatar avatar-sm rounded-circle"
              style="background-image: url(../assets/images/users/11.jpg)"
            ></span> -->
            <div class="user-details ms-2">
              <a
                class="text-secondary"
                href="javascript: void(0)"
                (click)="patientHandler(item, 'detail')"
                ><h6 class="mb-0">{{ item.patient?.enrollmentNo }}</h6></a
              >
              <!--span class="badge badge-xs bg-success">Approved</span-->
            </div>
          </div>
        </td>
        <td>
          <div class="d-flex align-items-center">
            <!-- <span
              class="data-image avatar avatar-sm rounded-circle"
              style="background-image: url(../assets/images/users/11.jpg)"
            ></span> -->
            <div class="user-details ms-2">
              <a
                class="text-secondary"
                href="javascript: void(0)"
                (click)="patientHandler(item, 'detail')"
                ><h6 class="mb-0">{{ item.patient?.name }}</h6></a
              >
              <!--span class="badge badge-xs bg-success">Approved</span-->
            </div>
          </div>
        </td>

        <td class="text-center">
          {{ getFormatDate(item.dob)
          }}<strong class="fw-semibold"> ({{ getAge(item.dob) }})</strong>
        </td>
        <td class="text-center">{{ item.stage }}</td>
        <td>
          <div class="d-flex">
            <div class="flex-fill">
              <div class="progress progress-sm mt-1">
                <div
                  *ngIf="item.riskCategory === 'Medium'"
                  class="progress-bar bg-warning wp-50"
                ></div>
                <div
                  *ngIf="item.riskCategory === 'Low'"
                  class="progress-bar bg-success wp-25"
                ></div>
                <div
                  *ngIf="
                    item.riskCategory === 'High' ||
                    item.riskCategory === 'Highest'
                  "
                  class="progress-bar bg-danger wp-75"
                ></div>
              </div>
            </div>
            <div class="ms-2">{{ item.riskCategory }}</div>
          </div>
        </td>
        <td class="text-center">{{ item.careMember }}</td>
        <td class="text-center">{{ item.status }}</td>
        <td class="text-center">
          {{ getFormatDate(item.lastAssignment) }}
          <strong class="fw-semibold"></strong>
        </td>
        <td class="text-center">
          {{ getFormatDate(item.lastDischarge)
          }}<strong class="fw-semibold"></strong>
        </td>
        <td class="text-center">
          <a
            href="#"
            class="br-5 px-2 py-1"
            data-bs-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
            ><i class="fe fe-more-vertical"></i
          ></a>
          <div class="dropdown-menu dropdown-menu-start">
            <!-- <a class="dropdown-item" href="#/patient-profile"
              ><i class="fe fe-edit-2 me-2"></i> Edit</a
            > -->
            <a
              class="dropdown-item"
              href="Javascript: void(0);"
              (click)="patientHandler(item, 'detail')"
              ><i class="fe fe-info me-2"></i> Detail</a
            >
            <a
              *ngIf="item.carePlanStatus === '1'"
              class="dropdown-item"
              href="Javascript: void(0);"
              (click)="patientHandler(item, 'viewCarePlan')"
              ><i class="fe fe-info me-2"></i> View Care Plan</a
            >
          </div>
        </td>
      </tr>
      <!-- <tr *ngIf="list.length == 0 && !showLoading">
        <td>{{ message.noRecords }}</td>
      </tr> -->
    </tbody>
  </table>
  <app-no-records-found
    *ngIf="list.length == 0 && !showLoading"
  ></app-no-records-found>
  <app-pagination
    *ngIf="list.length > 0 && !showLoading"
    [attributePatients]="attributePatients"
    [pagingModel]="gridData.pagingModel"
    (gotoPageHandler)="gotoPage($event)"
  >
  </app-pagination>
</div>
